时间有限剩下内容随缘笔记 ,以后查漏补缺

# 173

## servlet

得到表单的值

然后调用业务层操作,调用方法审核自增的编号

## 实体类

写一个审核的实体类

里面包含一系列数据,根据表结构来,并且把审核人的对象也包含在里面,这个作为审核列表的实体类保存,还有时间,并且需要设置格式设置构造方法,

# servlet

把刚刚创建的实体类构件一下

然后把从表单获取的值封装在里面

从session中获取雇员的值,然后用异常去判断成功还是失败

如果成功就输入成功或者失败来进行测试

# 业务层

审核报销单的方法,需要使用业务层的事务,借用原来的进行修改

把里面的操作进行修改

通过代码把业务逻辑进行写(流程图)

首先判断审核是否通过,把流程图的逻辑把代码的逻辑一层层写出来,类似于次

![1563890254558](C:\Users\RuicyQuan\AppData\Roaming\Typora\typora-user-images\1563890254558.png)

先把框架主题结构写出来然后再去书写具体的实现

# 174

## 修改报销单状态

update,先写dao

### dao

sql,参数

## 添加审核记录

### dao

接口,实现类

先写sql,主要根据字段写占位符

然后对着数据库写参数

注意日期的书写,用time时间戳的写法,放入参数获取事件

## service

修改的时候通过id获取,判断逻辑,把对应的状态进行修改,判断下一个处理人,没有下一个写null(拒绝没有下一个审核人)

下个处理人是财务,直接写与财务的岗位id相同的,把其对应的id给它就可以了

# 175

