# 220.MyBatis三个查询方法_selectList_selectOne_selectMap

<a name="03404a45"></a>
# MyBatis 中常用的三个查询方法
他又把环境重新搭了一遍,注意<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451168003-c45df0d9-5279-40a2-a691-94170f2151a4.png#align=left&display=inline&height=30&originHeight=30&originWidth=843&status=done&width=831)<br />如果没有子标签可以这么写<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451168086-6c8be43e-964c-44a6-af35-3b073f33099c.png#align=left&display=inline&height=51&originHeight=34&originWidth=536&status=done&width=804)<br />加个斜杠表示这是一个标签<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451168235-89ba2e55-ae36-405b-994b-b913e2f491bd.png#align=left&display=inline&height=268&originHeight=859&originWidth=2668&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451168351-d9bfe622-c779-4813-a183-91466e4ef2a8.png#align=left&display=inline&height=276&originHeight=530&originWidth=1595&status=done&width=831)
<a name="a7bacd42"></a>
## 1.1 selectList
用于查询多条数据的情况, 返回值是一个 list 集合. 如果没有查到任何数据, 返回没有元素的集合(空集合, 不是 null)<br />@Test<br />public void testSelectList() throws IOException {<br />InputStream is =<br />Resources.getResourceAsStream("mybatis-cfg.xml");<br />SqlSessionFactory factory = new<br />SqlSessionFactoryBuilder().build(is);<br />SqlSession session = factory.openSession();<br />List<User> list =<br />session.selectList("com.bjsxt.mapper.UserMapper.selAll");<br />System.out.println(list);<br />for (User user : list) {<br />System.out.println(user);<br />}<br />session.close();<br />}
<a name="94ae7f5c"></a>
## 1.2 selectOne
用于查询单条数据的情况, 返回值是一个对象. 如果没有查到任何数<br />据, 返回 null<br />@Test<br />public void testSelectOne() throws IOException {<br />InputStream is =<br />Resources.getResourceAsStream("mybatis-cfg.xml");<br />SqlSessionFactory factory = new<br />SqlSessionFactoryBuilder().build(is);<br />SqlSession session = factory.openSession();<br />User user =<br />session.selectOne("com.bjsxt.mapper.UserMapper.selOne");<br />System.out.println(user);<br />session.close();<br />}
<a name="da9c8a06"></a>
## 1.3 selectMap
用于查询多条数据的情况, 多条数据要形成一个 Map 集合. 需要指<br />定哪个属性作为 key. 如果查不到, 返回一个空 map 集合(不是 null)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451168449-a6ea4724-4da2-4884-839a-e57bdd2af137.png#align=left&display=inline&height=114&originHeight=76&originWidth=491&status=done&width=737)<br />第一个参数仍然是命名空间+id,第二个参数是使用对象的哪个属性作为key,整个查到的内容做为值<br />@Test<br />public void testSelectMap() throws IOException {<br />InputStream is =<br />Resources.getResourceAsStream("mybatis-cfg.xml");<br />SqlSessionFactory factory = new<br />SqlSessionFactoryBuilder().build(is);<br />SqlSession session = factory.openSession();<br />Map<Integer, User> map =<br />session.selectMap("com.bjsxt.mapper.UserMapper.selAll", "id");<br />System.out.println(map);<br />Set<Integer> set = map.keySet();<br />for (Integer k : set) {<br />System.out.println(map.get(k));<br />}<br />session.close();<br />}
