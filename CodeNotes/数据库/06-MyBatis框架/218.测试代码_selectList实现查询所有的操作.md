# 218.测试代码_selectList实现查询所有的操作

<a name="ea2912d2"></a>
## 定义pojo类
我们现在有个表格想要查询其中数据<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451098914-eaf70aed-b1fa-4eb1-a8bb-0366e594cdd8.png#align=left&display=inline&height=323&originHeight=499&originWidth=1285&status=done&width=831)<br />查到的数据应该是一个list集合,集合里应该是对象,因而我们现在先定义对应的实体类<br />定义成员变量,生成tostring<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099024-2c4d4e5e-26e6-4477-8c96-72afe10caf0f.png#align=left&display=inline&height=244&originHeight=446&originWidth=1522&status=done&width=831)<br />Hashcodeequals<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099109-9e30e1f2-c1c1-4d2c-9075-2c86cd2560c8.png#align=left&display=inline&height=506&originHeight=524&originWidth=860&status=done&width=831)<br />Getset方法<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099179-5996ede8-e08b-4f48-a639-485848f2f7db.png#align=left&display=inline&height=363&originHeight=242&originWidth=459&status=done&width=689)<br />再加个无参构造,实现以下serializable接口<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099262-5594e96e-374b-4be9-b14e-3c33664afe53.png#align=left&display=inline&height=564&originHeight=518&originWidth=763&status=done&width=831)

<a name="68bdc20d"></a>
## 数据访问层/Mapper 映射文件
在 MyBatis 中, 推荐使用 mapper 作为包名, 我们只需要写一个映射配置文件即可. UserMapper.xml, 用于定义要执行的 SQL 语句, 同时设定返回结果的类型.<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099346-9b6369d0-3139-4716-aaab-f9b45d15a81f.png#align=left&display=inline&height=265&originHeight=330&originWidth=1034&status=done&width=831)<br />快捷键f2重命名<br />具体怎么写继续找dtd文件<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099449-bd810c5f-0403-4668-8f2e-4801619f76ee.png#align=left&display=inline&height=443&originHeight=307&originWidth=576&status=done&width=831)<br />然后ctrl+/根元素就出来了,没有继续加<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099523-8679f4d9-b0ff-42fa-8c3e-455809469d55.png#align=left&display=inline&height=254&originHeight=259&originWidth=849&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099599-5b8cb588-c92f-4667-8195-34becc04b67f.png#align=left&display=inline&height=432&originHeight=359&originWidth=691&status=done&width=831)<br />这样就出来了<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099677-dc019634-8e75-4a26-b407-031865fff704.png#align=left&display=inline&height=595&originHeight=430&originWidth=601&status=done&width=831)<br />接着定义命名空间,类似于包的存在(405的张三和406的张三)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099754-feb6415f-c757-481f-87bf-2e64bc57aee9.png#align=left&display=inline&height=142&originHeight=199&originWidth=1162&status=done&width=831)<br />原来dao里写接口,接口里写实现类,这里就相当于包名+类名<br /><?xml version="1.0" encoding="UTF-8"?><br /><!DOCTYPE mapper<br /> PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"<br /> "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><br /><!--<br />namespace: 命名空间, 可以随意定义, 一般情况下要写全限定路径(原来的包名+类名)<br />MyBatis管理SQL语句是通过namespace+id来定位的<br />--><br /><mapper namespace="com.bjsxt.mapper.UserMapper">

命名空间下写操作

<!--<br />select标签用于编写查询语句<br />id: sql语句的唯一标识, 类比为方法名<br />resultType: 用于设定返回结果的类型(全限定路径)<br />如果返回结果是集合, 要写集合泛型的类型<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099857-026eadc3-c6d7-43ec-ac2e-af49bce23d17.png#align=left&display=inline&height=275&originHeight=480&originWidth=1449&status=done&width=831)<br />“方法体”部分写上查询语句就可以了,注意不要加分号<br />--><br /><select id="selAll" resultType="com.bjsxt.pojo.User"><br />select * from t_user<br /></select><br /></mapper>
<a name="504a2416"></a>
## 在核心配置文件中添加 mapper 扫描
![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451099956-4ed7d5d2-9f55-4d48-8327-bbabd386d07c.png#align=left&display=inline&height=425&originHeight=588&originWidth=1151&status=done&width=831)<br />Class是一个类,文件其实就是一个资源,所有我们这儿写resource<br />我们要找到它就得写明它的全限定路径,即<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451100037-4d063584-c90b-4441-abe2-c350a257721f.png#align=left&display=inline&height=113&originHeight=122&originWidth=895&status=done&width=831)<br /><!-- 扫描mapper文件 --><br /><mappers><br /><mapper resource="com/bjsxt/mapper/UserMapper.xml" /><br /></mappers><br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561451100137-cfb9aafa-0737-480c-b220-e066ef172bfa.png#align=left&display=inline&height=324&originHeight=561&originWidth=1440&status=done&width=831)
