# 234.动态SQL_trim_bind

<a name="33f5ff1c"></a>
# 动态 SQL
<a name="84527ab8"></a>
## <trim>
![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236081-e2b47059-15b4-4600-b308-410eb178873f.png#align=left&display=inline&height=539&originHeight=359&originWidth=365&status=done&width=548)<br />实际上whereser就是用trim实现的,除了去除一些信息外,还能追加一些信息<br />trim用于在前后添加或删除一些内容<br />a)prefix, 前缀,在前面添加内容<br />b)prefixOverrides, 从前面去除内容<br />c)suffix, 后缀,向后面添加内容<br />d)suffixOverrides, 从后面去除内容<br /><update id="updUser" parameterType="user"><br />update t_user<br /><!--<br />prefix: 前缀, 表示向前面添加内容<br />prefixOverrides: 从前面删除内容(加个覆盖)<br />suffix: 后缀, 表示向后面添加内容<br />suffixOverrides: 从后面删除内容<br />--><br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236175-ee50302c-4e57-49a5-88d4-f76e03db9bf0.png#alt=&height=321&originHeight=414&originWidth=1071&width=831)<br /><trim prefix="set" prefixOverrides="user" suffix="hahaha"<br />suffixOverrides=","><br />username=#{username},<br /></trim><br />where id=#{id}<br /></update><br />测试<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236274-d8803a97-1e60-4bf9-a43a-bb9ae36bd2c5.png#align=left&display=inline&height=554&originHeight=441&originWidth=662&status=done&width=831)<br />1的名字就被改成了张三枫
<a name="01229002"></a>
## <bind>
绑定<br />用于对数据进行再加工, 用于模糊查询<br />如果要对username进行模糊查询<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236357-834db56a-9e61-4952-9e9e-b5443f20b886.png#align=left&display=inline&height=264&originHeight=248&originWidth=781&status=done&width=831)<br />具体操作<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236433-c71fa4d7-1737-49e4-9a16-6c77e491fe76.png#align=left&display=inline&height=239&originHeight=268&originWidth=932&status=done&width=831)<br />所以后面取出来的补上username,是加上%号的username<br />再加个like就OK了<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561545236513-8aff08c0-8383-48f7-97b0-31b8638805a6.png#align=left&display=inline&height=228&originHeight=255&originWidth=929&status=done&width=831)<br /><select id="sel" resultType="user"><br />select * from t_user<br /><where><br /><if test="username!=null and username!=''"><br /><bind name="username" value="'%' + username + '%'"/><br />and username like #{username}<br /></if><br /></where><br /></select>
