# 248.分析MyBatis的运行原理

<a name="6e6766d9"></a>
## ![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277131-e47db659-0714-415b-88be-b5f55403e5c0.png#align=left&display=inline&height=239&originHeight=172&originWidth=599&status=done&width=831)
![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277239-fb190023-6db6-4a80-aed0-c96f3dbdd1c7.png#align=left&display=inline&height=303&originHeight=733&originWidth=2012&status=done&width=831)<br />查看源码<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277339-e77cc32d-4f48-4590-802a-df520cf2f8cd.png#align=left&display=inline&height=262&originHeight=238&originWidth=754&status=done&width=831)<br />按住ctrl点选左键<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277421-38527fe6-7b73-4c5f-8da7-749239e047c8.png#align=left&display=inline&height=488&originHeight=424&originWidth=625&status=done&width=719)<br />因为没关联还看不到源码<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277515-d791aeb0-ee0f-4542-bd9e-4e1c83d69a89.png#align=left&display=inline&height=384&originHeight=313&originWidth=678&status=done&width=831)<br />回切<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277607-0f08be1c-4e16-40b3-928b-a5fb25b95ab2.png#align=left&display=inline&height=351&originHeight=423&originWidth=894&status=done&width=741)<br />现在就能进去了 ~<br />然后一层层下找<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277687-c4f013b9-75f9-4c82-81e3-5fc679f22a74.png#align=left&display=inline&height=522&originHeight=540&originWidth=860&status=done&width=831)

工程得到工厂,那工程是怎么得到的呢?<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277770-55e61035-9aaf-49dc-b25e-2092ca87cd30.png#align=left&display=inline&height=221&originHeight=237&originWidth=893&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277896-26fc1bb9-a894-4309-8bf0-4bb5abb31f22.png#align=left&display=inline&height=214&originHeight=227&originWidth=882&status=done&width=831)<br />然后又进去了<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720277989-54ac1433-3bbf-44db-bcd4-58fb7d5728d6.png#align=left&display=inline&height=365&originHeight=475&originWidth=1081&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278064-e19b3f88-a390-4ea6-ae2f-ba245c1b198f.png#align=left&display=inline&height=334&originHeight=381&originWidth=949&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278142-1156f5c7-9b73-4f49-8f3e-c9c311aa4993.png#align=left&display=inline&height=196&originHeight=209&originWidth=886&status=done&width=831)<br />然后又点build进去了<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278255-eb623a64-ca32-4b10-865b-12b54d6fb92f.png#align=left&display=inline&height=369&originHeight=529&originWidth=968&status=done&width=675)<br />New的对象是sqlsession的一个实现类<br />点这ctrl+T,查看树,即结构集合<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278329-52995099-1ca3-4835-a878-1ffbd1b2c2cc.png#align=left&display=inline&height=247&originHeight=187&originWidth=630&status=done&width=831)<br />所以我们通过构建者去构建工厂就可以了

再看看这个<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278411-28feb701-a541-4f8b-82b8-e22c1507a432.png#align=left&display=inline&height=522&originHeight=524&originWidth=834&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278474-1d8e12f9-1486-4434-9b9d-3e18bc0d225e.png#align=left&display=inline&height=236&originHeight=179&originWidth=629&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278556-99652f6d-8c23-41a5-93c1-f89221fd0556.png#align=left&display=inline&height=348&originHeight=510&originWidth=1219&status=done&width=831)<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1561720278660-9c257a4f-a228-4ddc-8576-e45da86752c8.png#align=left&display=inline&height=348&originHeight=510&originWidth=1219&status=done&width=831)
