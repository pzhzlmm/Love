# 68.通过接口实现Runnable 接口实现多线程

<a name="eSR5n"></a>
## 导问
1. 简述使用Runnable接口实现多线程的步骤？
  1. 编写类实现Runnable接口
  1. 实现run()方法
  1. 通过Thread类的start方法启动线程
2. 简述代理设计模式？
  1. 我们Runnable接口只有一个run方法,可以Thread里面有N多别的方法去操作线程,所以Thread会比我们接口提供更多的方法


<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560156921925-c2c6cd28-0562-47e5-b441-4adb92f4e65a.png#align=left&display=inline&height=146&name=image.png&originHeight=292&originWidth=684&size=158684&status=done&width=342)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560156942478-8164d2f9-f5d3-41a9-861e-80aa5c2113a3.png#align=left&display=inline&height=89&name=image.png&originHeight=177&originWidth=987&size=124426&status=done&width=493.5)<br />同样写run方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560156968971-ac207d2d-7bab-4710-a116-6d200e24a454.png#align=left&display=inline&height=188&name=image.png&originHeight=376&originWidth=942&size=220103&status=done&width=471)<br />测试类<br />先创建线程的对象<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157020440-8cc0c4cc-8236-434d-bb96-aa2860916e1c.png#align=left&display=inline&height=151&name=image.png&originHeight=301&originWidth=722&size=155580&status=done&width=361)<br />这时候调用run的方法发现调用不出来,Runnable里根本没有一个方法叫start<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157060959-619e15b7-a2b5-4ff0-becc-890fb16dbd6a.png#align=left&display=inline&height=23&name=image.png&originHeight=45&originWidth=437&size=28545&status=done&width=218.5)<br />Thread和Runnable有什么关系呢?<br />打开Thread源码,发现里面有个构造方法可以传入Runnable的对象<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157119308-b31ca10c-fde0-4817-82b1-0283c8f62167.png#align=left&display=inline&height=37&name=image.png&originHeight=73&originWidth=805&size=71739&status=done&width=402.5)<br />所以我们这里可以把my作为参数传入Thread<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157171631-a8af014e-02fe-44e1-9ec1-035aeeb087c0.png#align=left&display=inline&height=156&name=image.png&originHeight=311&originWidth=577&size=189209&status=done&width=288.5)<br />然后再编写主线程的循环,然后可以看出它两还是在抢栈(即循环没有执行完毕被中断的情况)

Thread类本身就实现了Runnable里的接口<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157282746-f2c39547-779b-4cf4-9af3-59f228a031d9.png#align=left&display=inline&height=130&name=image.png&originHeight=259&originWidth=659&size=168727&status=done&width=329.5)<br />Thread在这里给Runnable做代理的<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157344615-8f3fe4b9-d752-4748-bbe5-6572777249b3.png#align=left&display=inline&height=99&name=image.png&originHeight=197&originWidth=646&size=88041&status=done&width=323)<br />有什么好处?<br />我们Runnable接口只有一个run方法,可以Thread里面有N多别的方法去操作线程,所以Thread会比我们接口提供更多的方法

举例<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157444781-7d39d7c6-c667-48d1-ac9a-41ee99977638.png#align=left&display=inline&height=106&name=image.png&originHeight=212&originWidth=529&size=85476&status=done&width=264.5)<br />这样代理角色就可以给我做代理了

首先得要求有一个共同的接口<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157489517-6355fdce-eb6d-4b55-9cc2-af65d14b31b2.png#align=left&display=inline&height=114&name=image.png&originHeight=228&originWidth=478&size=85911&status=done&width=239)<br />接口做形参,通过构造方法进行赋值,将局部变量的值去赋给成员变量<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157608780-7d10c4d1-a48e-4fc5-b5ca-9e014e81a243.png#align=left&display=inline&height=198&name=image.png&originHeight=395&originWidth=755&size=199981&status=done&width=377.5)<br />真实角色<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157654350-daea5344-08e1-4726-b0ef-4c2a3c397ece.png#align=left&display=inline&height=186&name=image.png&originHeight=371&originWidth=783&size=176414&status=done&width=391.5)<br />测试类<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157737774-e808d875-f03c-4296-9d29-ae8b97e23836.png#align=left&display=inline&height=305&name=image.png&originHeight=609&originWidth=783&size=313072&status=done&width=391.5)<br />你与谁结婚了是你所实现的这个方法<br />婚庆公司可以提供更多方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157911122-f0d9fc8b-1a59-4ae6-a40e-c6df1f8c3cb0.png#align=left&display=inline&height=213&name=image.png&originHeight=425&originWidth=870&size=266297&status=done&width=435)<br />重新运行可以看到婚庆公司给你做了更多的服务工作<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560157934741-8082bb95-5041-4f2e-bf57-55ab7bf0761f.png#align=left&display=inline&height=91&name=image.png&originHeight=181&originWidth=413&size=64133&status=done&width=206.5)<br />代理类比真实类拥有更多的操作方法

