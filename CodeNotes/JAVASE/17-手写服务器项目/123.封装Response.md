# 123.封装Response

![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416149616-3fab6bde-d781-47fc-a375-f77484352df5.png#align=left&display=inline&height=198&name=image.png&originHeight=396&originWidth=548&size=96623&status=done&width=274)

![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416181052-a8358703-f28c-4aed-8aa6-c151f5696ed8.png#align=left&display=inline&height=357&name=image.png&originHeight=714&originWidth=1126&size=467025&status=done&width=563)<br />当我接收到了请求之后就要对请求进行响应,因此先把这部分进行删除

做出响应,首先是响应头<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416422429-4cd24bdf-5698-458e-adbf-2216a55984e3.png#align=left&display=inline&height=333&name=image.png&originHeight=665&originWidth=1508&size=635871&status=done&width=754)<br />响应的内容\r换行,内容html

测试<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416451498-b1ccf166-9b3a-499d-bd82-61c402f3592c.png#align=left&display=inline&height=94&name=image.png&originHeight=187&originWidth=316&size=30430&status=done&width=158)

目前响应是没有问题的,但目前我们先就要对响应的内容进行封装<br />先是属性<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416588473-375cc8d2-0c28-4715-b1a6-06a97ff3c742.png#align=left&display=inline&height=237&name=image.png&originHeight=473&originWidth=799&size=302487&status=done&width=399.5)

然后带参无参构造方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416664702-66090f35-b1d1-4b73-9e77-33e51d4937cf.png#align=left&display=inline&height=229&name=image.png&originHeight=458&originWidth=1041&size=242230&status=done&width=520.5)

正文部分<br />传什么就往里面加什么<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416715944-42e64eff-ea1e-4417-a573-a11ea0be62d7.png#align=left&display=inline&height=167&name=image.png&originHeight=333&originWidth=778&size=182370&status=done&width=389)<br />这个是不需要换行的,再编写一个需要换行的<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416794233-80f8c4b7-96da-49cd-a6f4-6702786ea4b5.png#align=left&display=inline&height=138&name=image.png&originHeight=276&originWidth=835&size=193008&status=done&width=417.5)<br />有内容就调用它然后往里面添就是了

构造响应头<br />根据状态码去确定描述的内容<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560416917278-b7ce12aa-c091-4f0f-bd36-061b264e9541.png#align=left&display=inline&height=302&name=image.png&originHeight=603&originWidth=1119&size=382268&status=done&width=559.5)

响应头有了,响应的内容有了,接下来就推送到客户机的浏览器上<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417017061-c595f20e-67c8-4135-aaef-425787fdada4.png#align=left&display=inline&height=263&name=image.png&originHeight=526&originWidth=683&size=256967&status=done&width=341.5)<br />然后开始处理异常

写完了之后把最开始的响应方法注释掉,然后开始写<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417235286-3d6fec37-7d35-4cf8-9b92-aa262e7cfaf3.png#align=left&display=inline&height=294&name=image.png&originHeight=588&originWidth=975&size=486727&status=done&width=487.5)<br />接下来就需要调用servlet类里方法<br />service处理响应和请求的方法,给一个请求和一个响应就可以执行 操作,,每个都不一样<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417565646-be508c18-3808-4c40-bfd8-2c774e5a6dcb.png#align=left&display=inline&height=217&name=image.png&originHeight=433&originWidth=1052&size=350969&status=done&width=526)<br />改为<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417686052-0a6bbfa2-8718-434e-9847-251516f0ef26.png#align=left&display=inline&height=220&name=image.png&originHeight=439&originWidth=1136&size=397881&status=done&width=568)<br />谁去使用这个方法?是我们请求的相应的servlet<br />我们相应的子类servlet就去实现这两个方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417818266-ff91162c-f3e6-48bb-a0ec-86c7f875b0c8.png#align=left&display=inline&height=251&name=image.png&originHeight=501&originWidth=832&size=301211&status=done&width=416)<br />判断账号密码是否正确操作<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417775206-0b7296a4-d6d7-448d-9ce5-18ca477c8f34.png#align=left&display=inline&height=96&name=image.png&originHeight=191&originWidth=764&size=117264&status=done&width=382)

然后继续去severlet里去编写<br />调用之后推送出去<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417911629-e73030d4-7ea3-4970-bce3-7be2623162ce.png#align=left&display=inline&height=222&name=image.png&originHeight=444&originWidth=664&size=332698&status=done&width=332)<br />测试<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1560417937162-3a85c1e8-5663-4cbe-87d4-348c6a19a51a.png#align=left&display=inline&height=110&name=image.png&originHeight=220&originWidth=483&size=50294&status=done&width=241.5)<br />这样就封装完了我们的响应,同时单线程实现成功
