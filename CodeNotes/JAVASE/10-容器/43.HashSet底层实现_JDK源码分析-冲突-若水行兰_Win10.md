# 43.HashSet底层实现_JDK源码分析


1. HashSet的底层数据结构概念？
  1. 哈希表，即顺序表+链表，主顺序结构使用顺序表，然后再在位置上使用链表去链接，当链接对象超过8的时候再使用红黑树
2. HashSet与HashMap的关系？
  1. 我们在操作HashSet的时候，实际上底层在给我们操作HashMap，HashSet使用了HashMap的数据结构，其底层都是数据表

![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989287864-7d3f48f8-b128-48d0-b2c4-11d64e7d3d89.png#align=left&display=inline&height=19&name=image.png&originHeight=37&originWidth=271&size=16115&status=done&width=135.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989305720-480c6d92-609b-4cac-b9cd-f7fedfdae3bc.png#align=left&display=inline&height=22&name=image.png&originHeight=44&originWidth=427&size=29037&status=done&width=213.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989317090-68dbbb3f-c85b-476a-8f46-9c41849444b9.png#align=left&display=inline&height=36&name=image.png&originHeight=72&originWidth=997&size=72850&status=done&width=498.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989351260-e58228b9-c05d-4cbe-b110-e921cf29167e.png#align=left&display=inline&height=22&name=image.png&originHeight=44&originWidth=638&size=35593&status=done&width=319)<br />add<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989456791-e07ed2cb-51a4-4b53-b681-c1428c37b0f3.png#align=left&display=inline&height=73&name=image.png&originHeight=146&originWidth=934&size=85063&status=done&width=467)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989430064-618b8ae2-2a5d-4ddf-a552-1344d83cbe44.png#align=left&display=inline&height=21&name=image.png&originHeight=41&originWidth=808&size=50400&status=done&width=404)<br />是一个叫做Object类型的对象<br />你向我们HashSet里添加的所有对象,map部分的value都是Object类型的对象<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989555855-97e016fd-7b20-42c1-8334-5f2a0e9f24c1.png#align=left&display=inline&height=21&name=image.png&originHeight=42&originWidth=549&size=42735&status=done&width=274.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989589358-8198b1ff-c394-4168-b295-f053f2f44ed5.png#align=left&display=inline&height=49&name=image.png&originHeight=98&originWidth=472&size=40050&status=done&width=236)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989611872-c56d91f7-66ca-4097-bfc7-8545223c939d.png#align=left&display=inline&height=53&name=image.png&originHeight=105&originWidth=835&size=78255&status=done&width=417.5)值都是统一的Object对象

![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989671345-dc75b787-3956-4093-9b8a-372fce6c9013.png#align=left&display=inline&height=71&name=image.png&originHeight=141&originWidth=619&size=69748&status=done&width=309.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989695280-b847b57d-7dd4-42f2-9ee5-51f40db852ae.png#align=left&display=inline&height=60&name=image.png&originHeight=120&originWidth=673&size=86026&status=done&width=336.5)

我们在操作HashSet的时候，实际上底层在给我们操作HashMap<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559989742832-78df69ea-0e3d-47a9-bfc7-f3f576bd2a43.png#align=left&display=inline&height=30&name=image.png&originHeight=59&originWidth=439&size=44319&status=done&width=219.5)
