# 37.Vector用法和ArrayList区别

1. Vector的特有方法有哪些？
  1. addElement 添加元素
  1. removeElement 删除元素
2. Vector与ArrayList的区别是什么？
  1. Vector的add方法被synchronized，表示它是同步方法，而ArrayList的add并没有被它修饰，因而是非同步方法，多线程的情况下前者的安全性更高
  1. Vector与ArrayList扩容原理一样，只是前者每次扩容一倍，后者每次扩容0.5倍
  1. Vector是在调用构造方法时直接初始化容量为10，而ArrayList是在执行add时才开始初始化容量为10
  1. Vector的版本是JDK1.0，ArrayList是1.2
  1. Vector是线程同步的，安全性更高，但效率低，ArrayList是线程非同步的，安全性低，但效率高




![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559975829572-d4e8f919-b13c-4329-bd1e-32ce4dc44cbf.png#align=left&display=inline&height=83&name=image.png&originHeight=166&originWidth=426&size=53909&status=done&width=213)

![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559975847184-5b07470c-edd0-48ae-9d0a-5cd4bb6f5c3b.png#align=left&display=inline&height=67&name=image.png&originHeight=134&originWidth=983&size=97289&status=done&width=491.5)<br />也有我们的内部类Itr![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559975915945-81dfee50-831b-428b-91d4-2b665d890ca5.png#align=left&display=inline&height=13&name=image.png&originHeight=26&originWidth=116&size=3805&status=done&width=58)和![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559975946608-7aa295ee-7f6c-4700-9b45-f4ffad51129d.png#align=left&display=inline&height=19&name=image.png&originHeight=37&originWidth=132&size=7043&status=done&width=66)这是我们用来做遍历的，因此 它也能做遍历<br />因此我们List的一些方法它都是可以使用的<br />首先<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976003239-6a96187e-d1a4-48bf-a33f-52b37ccc954a.png#align=left&display=inline&height=33&name=image.png&originHeight=66&originWidth=466&size=44564&status=done&width=233)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976034128-c0740709-b445-471d-9df5-8191d3b53842.png#align=left&display=inline&height=56&name=image.png&originHeight=112&originWidth=670&size=70748&status=done&width=335)<br />没有addFirst和addLast，但多了一个<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976076446-478632c9-74ba-4c01-9f90-ded90df255e4.png#align=left&display=inline&height=218&name=image.png&originHeight=435&originWidth=691&size=243328&status=done&width=345.5)<br />现<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976107331-32a702d9-1532-48e1-9b64-cd6c4fa36bdb.png#align=left&display=inline&height=205&name=image.png&originHeight=410&originWidth=934&size=288710&status=done&width=467)<br />这也是添加元素，不过是早期版本的方法<br />我们在版本升级的时候一般都要简化缩写<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976211694-d66e7227-8bcb-49e3-b9cf-d92e1af38231.png#align=left&display=inline&height=80&name=image.png&originHeight=159&originWidth=497&size=89673&status=done&width=248.5)![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976216205-875bd286-643f-4001-938f-2a7f1aaec818.png#align=left&display=inline&height=42&name=image.png&originHeight=83&originWidth=366&size=31949&status=done&width=183)<br />也可以指定对象去进行删除<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976238669-7cf9daa2-6f08-4cab-8ffc-6e498e6f904a.png#align=left&display=inline&height=82&name=image.png&originHeight=163&originWidth=462&size=98460&status=done&width=231)![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976242531-22ff711e-7d12-4e34-a4cf-e1a7815c6ed9.png#align=left&display=inline&height=47&name=image.png&originHeight=94&originWidth=326&size=31464&status=done&width=163)<br />也可以对集合中的元素进行清空<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976279133-e5b910cd-d1c6-41cd-a90c-c2caad7623e1.png#align=left&display=inline&height=20&name=image.png&originHeight=39&originWidth=293&size=19199&status=done&width=146.5)现在就成功清空了集合中的所有元素![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976294025-617a30a7-8a37-437a-8c08-49f2fce34a21.png#align=left&display=inline&height=23&name=image.png&originHeight=45&originWidth=94&size=4229&status=done&width=47)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976320178-c288e44a-bfb0-41e8-b7c2-c16c6690a234.png#align=left&display=inline&height=20&name=image.png&originHeight=40&originWidth=451&size=31396&status=done&width=225.5)也可指定删除<br />和addElement一样是早期的方法

获取<br />根据索引获取<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976371313-eb8099f3-dff6-47f9-a352-40510ad9657d.png#align=left&display=inline&height=17&name=image.png&originHeight=33&originWidth=547&size=30595&status=done&width=273.5)

遍历<br />普通for循环，加强for循环，和我们学过的arrayList是完全相同的<br />集合中所有元素都向上转换转成了Object类<br />![](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976003239-6a96187e-d1a4-48bf-a33f-52b37ccc954a.png#align=left&display=inline&height=33&originHeight=66&originWidth=466&status=done&width=233)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976444046-544b90ac-66c6-4970-909b-484f476342c2.png#align=left&display=inline&height=82&name=image.png&originHeight=163&originWidth=548&size=88215&status=done&width=274)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976551597-51458904-4ccd-4043-b148-6943739227a8.png#align=left&display=inline&height=114&name=image.png&originHeight=228&originWidth=837&size=135569&status=done&width=418.5)<br />也可以使用while循环来写<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976590122-62a69920-daee-4c8e-b613-2d5003c1cf15.png#align=left&display=inline&height=21&name=image.png&originHeight=41&originWidth=776&size=37898&status=done&width=388)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976603657-98aed9fc-3cb4-4413-9d1f-07c4342b3cbe.png#align=left&display=inline&height=52&name=image.png&originHeight=103&originWidth=576&size=55505&status=done&width=288)<br />推荐使用for循环来写，因为我们在我们的API中看到这样的写法<br />它认为我们定义的ite是这个for循环的局部变量，当for循环结束的时候ite就不复存在了<br />而下面的while中的ite是主方法中的局部变量，主方法结束之后这个变量才会消失<br />所以它会长时间的占用内存，所以推荐使用for循环的写法

Vector的源码分析<br />构造方法，创建对象<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976770499-9a12f5f3-9f06-4c43-ad12-6b63f7f35a26.png#align=left&display=inline&height=51&name=image.png&originHeight=102&originWidth=315&size=29409&status=done&width=157.5)<br />当我们去调用Vector的时候我们调用的是本类中的带参构造方法<br />本来带参构造方法传过来的值是10<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976873565-1dc10c8e-dd8d-4515-8953-08495248b361.png#align=left&display=inline&height=51&name=image.png&originHeight=101&originWidth=773&size=64564&status=done&width=386.5)<br />然后又调用了本类带有两个参数的构造方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977049329-69c5686d-674d-4934-a7b3-78a7092c0b71.png#align=left&display=inline&height=37&name=image.png&originHeight=74&originWidth=680&size=46625&status=done&width=340)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559976987396-c91a2c68-169d-4f10-9c36-3f1a5ea95824.png#align=left&display=inline&height=132&name=image.png&originHeight=263&originWidth=991&size=237637&status=done&width=495.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977026341-3fa7025b-d595-4c28-ac6a-3329c21e2198.png#align=left&display=inline&height=20&name=image.png&originHeight=40&originWidth=726&size=45767&status=done&width=363)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977035540-ad1a7c71-b7ef-4103-9207-7b8507e82a3c.png#align=left&display=inline&height=30&name=image.png&originHeight=59&originWidth=554&size=39947&status=done&width=277)<br />创建了一个长度为10的Object数组<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977127749-c546995d-b8e7-4ede-a614-76167481788a.png#align=left&display=inline&height=22&name=image.png&originHeight=44&originWidth=436&size=29707&status=done&width=218)

add<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977206041-c76d7359-ba59-4ed5-9a5b-7708229c361e.png#align=left&display=inline&height=130&name=image.png&originHeight=259&originWidth=938&size=144159&status=done&width=469)

多线程的时候有syn的安全性是更高的<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977263745-2031b3f8-96b0-4474-8c7d-80e8ed8d5f2b.png#align=left&display=inline&height=198&name=image.png&originHeight=396&originWidth=571&size=201199&status=done&width=285.5)ArrayList并没有这样的标签<br />Vector的底层数据结构和ArrayList的底层数据结构是一样的，都是Object类型的数组<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977398246-f43db876-773f-4493-9681-e017235dad2e.png#align=left&display=inline&height=83&name=image.png&originHeight=166&originWidth=698&size=102061&status=done&width=349)

接着我们来看这个方法<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977434884-c8f27cc0-2e37-4dc9-8a92-995cfff55006.png#align=left&display=inline&height=58&name=image.png&originHeight=116&originWidth=707&size=90797&status=done&width=353.5)<br />elementcount，元素的个数<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977472426-beb3b4c9-c612-4302-90bb-15a65e73a384.png#align=left&display=inline&height=25&name=image.png&originHeight=50&originWidth=455&size=29578&status=done&width=227.5)初始值默认是0<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977510433-e24d4a91-0d78-4c87-a3e4-0f241ad542a6.png#align=left&display=inline&height=98&name=image.png&originHeight=196&originWidth=897&size=133936&status=done&width=448.5)<br />而数组的长度是10<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977572460-27dfb8f8-b0a5-4485-9487-03d09cb973e6.png#align=left&display=inline&height=99&name=image.png&originHeight=197&originWidth=854&size=141222&status=done&width=427)<br />不需要扩容，直接执行添加就可以了<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977697695-0378150e-cad3-43ed-b991-000747628674.png#align=left&display=inline&height=96&name=image.png&originHeight=192&originWidth=686&size=115956&status=done&width=343)<br />把我们传进来的对象放到elementCount的这个位置<br />放完之后我们的elementCount++，这时候元素的个数就加1了<br />总<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977734175-6fba4969-bc5a-4f48-8b0a-1ef647716fe3.png#align=left&display=inline&height=84&name=image.png&originHeight=167&originWidth=932&size=129714&status=done&width=466)<br />我们ArrayList添加是在第一次添加的时候，开辟的初始容量为10<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977813796-4f3f197d-cf6b-4517-814f-ca3a445af89c.png#align=left&display=inline&height=201&name=image.png&originHeight=401&originWidth=1098&size=276778&status=done&width=549)<br />而Vector是在创建对象的时候直接开辟了初始容量为10<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977868055-aa357158-a622-4777-9f4b-747e46bb449e.png#align=left&display=inline&height=64&name=image.png&originHeight=128&originWidth=1124&size=144083&status=done&width=562)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559977874839-7166d20e-ea2f-4021-8943-c1b75f3f2364.png#align=left&display=inline&height=23&name=image.png&originHeight=46&originWidth=342&size=23008&status=done&width=171)<br />从10添加到第11个元素超出初始化范围执行grow方法的时候<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978162290-5dfa12d8-2efc-4a61-a4d4-649639b79ef4.png#align=left&display=inline&height=191&name=image.png&originHeight=381&originWidth=1159&size=383699&status=done&width=579.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978031009-3b9a49d2-38d8-41e7-a695-556046ed3918.png#align=left&display=inline&height=128&name=image.png&originHeight=256&originWidth=724&size=141690&status=done&width=362)<br />版本<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978197573-30be515e-94fe-43ab-bc80-c26f6a2c16d3.png#align=left&display=inline&height=134&name=image.png&originHeight=267&originWidth=427&size=122518&status=done&width=213.5)![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978210772-3e73c5e4-59c3-4e13-ae38-6a71594366fa.png#align=left&display=inline&height=160&name=image.png&originHeight=319&originWidth=518&size=144414&status=done&width=259)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978227935-f3629f33-afdc-47cf-bc49-2a7adc876038.png#align=left&display=inline&height=28&name=image.png&originHeight=56&originWidth=673&size=37953&status=done&width=336.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/349894/1559978242836-28943474-a041-45dc-a656-03de1b9b4162.png#align=left&display=inline&height=49&name=image.png&originHeight=97&originWidth=663&size=80752&status=done&width=331.5)
